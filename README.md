# 概要 
プレイヤーの選択によってキャラクターの機嫌値（好感度）が上下し、物語が分岐するノベルゲームを制作。  
JSON でイベントデータを管理し、JavaScript 側は “表示・遷移・アニメーション・サウンド処理” に専念する設計を採用した。  
全体の方針は「イベントをデータで管理」「JSは司令塔として処理に集中」「ゲーム進行ロジックは可能な限りシンプル」。  
当初は選択肢がランダムに生成されることで展開を予想外にしたかったが、シナリオやセリフ作成の時間がかかりすぎると判断してシンプルな選択肢のゲーム性になった。  

## コンセプト 
主人公が突飛な行動に出ることで予想のできない展開を目指した  
予測できない展開になることで周回プレイが楽しくなる 選択肢の結果によってルートが確定し、ハッピー/ゲームオーバーなどに遷移 背景・人物画像・BGM・SEなどを都度切り替え、ボリュームは少なくともゲームとして違和感のない演出を目指す  

## 制作の経緯 
イベント単位で管理し、JSは処理に専念させる方針に決定   
背景やBGMの同時変更が難しく、一つずつイベント化する仕様を選択  
キャラの機嫌値は最終的に “エンディング判定で使うだけ” に簡略化   
選択肢のランダム化より、まずはシナリオ構築を優先  
シナリオ作成と画像調達に想定以上のコスト（画像6000円）（セリフ作成で全体の80％の時間)  
UI調整・音楽実装・テストを経て完成  

## 主なJSの関数
次に進むイベントID JS 側は ID を受け取り、イベントタイプに応じて処理関数へ振り分ける。  
1. 司令塔 イベントIDを渡すと JSON から該当イベントを取得し、 タイプを判定して専用の処理関数に振り分ける  
2. セリフ処理 イベント内のセリフを1つずつ表示 「次へ」ボタンを生成 インデックスが最後まで進んだら次イベントへ遷移  
3. 背景切替 秒数を指定してフェード処理。  
4. BGM再生・停止  
5. キャラ表示・非表示 フェードイン/アウト付き。  
6. 選択肢処理 選択肢ボタンの生成 選んだ選択肢の好感度反映  
  


## 感想 
カードゲームを作成した際に、ギャルゲーの選択肢も毎回ランダムに生成されることでロマンチックで大事な場面で奇行に走ってしまう、みたいなことがあったら面白いゲームになるんじゃないかと思い至ったことが制作のきっかけでした。  
職業訓練校に通いながら授業の合間や放課後に学校に残ってどのように関数を作ればいいのか、どこまでの機能なら実現可能なのかを練りました。  
ゲームロジック部分は丁寧に考えて作ったこともあって３日ほどでほぼ原形ができた記憶があります。  
本当に苦労したのはとにかくシナリオを考えることとセリフを作ることです。  
AIも当然活用していましたが破綻がないようにキャラのイメージを守りながらセリフを作るにはやはり人間が書く必要があり、セリフはAI２割自力８割くらいになり訓練校のお盆休みすべてをこのシナリオとセリフ作りに使いました。  
このシンプルなロジックで小さいボリュームのゲームでさえこれほどの労力や時間がかかるものなのかと実感し、たくさんの人間の力をうまく合わせないとゲームはいつまでも完成しないのだろうなと感じました。  
苦労の末にゲームとして１通り遊べるようになって、遊んでもらったクラスメイトから感想を聞けたときはそれまでの人生で味わったことがない達成感と喜びを感じました。
